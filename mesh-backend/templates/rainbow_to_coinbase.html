<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Rainbow to Coinbase Transfer</title>
  <style>
    body{font:15px/1.4 sans-serif;margin:2rem}
    button{font:1rem;padding:.4rem .8rem;margin:.3rem 0;display:block;width:100%}
    #log{white-space:pre;border:1px solid #ccc;padding:.5rem;height:140px;overflow:auto;margin-top:20px}
    .container{max-width:600px;margin:20px auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}
    .destination-info{background:#f9f9f9;border:1px solid #e0e0e0;border-radius:4px;padding:15px;margin:15px 0}
    .fixed-amount{font-size:18px;font-weight:bold;color:#007bff;margin:15px 0}
    h2{color:#2c3e50;text-align:center;margin-bottom:20px}
    .section{margin-bottom:25px;padding-bottom:15px;border-bottom:1px solid #eee}
  </style>
</head>
<body>
  <div class="container">
    <h2>Transfer USDC from Rainbow to Coinbase</h2>
    
    <div class="destination-info">
      <div>Destination: <b>Coinbase Wallet</b></div>
      <div>Address: <b>{{ coinbase_wallet_address }}</b></div>
      <div>Asset: <b>USDC</b></div>
      <div class="fixed-amount">Amount: 5 USDC</div>
    </div>

    <div class="section">
      <h3>1. Link Your Rainbow Wallet</h3>
      <button id="connect">Connect Rainbow Wallet</button>
    </div>
    
    <div class="section">
      <h3>2. Send 5 USDC to Coinbase</h3>
      <button id="send" disabled>Transfer to Coinbase</button>
    </div>
  </div>

  <!-- Hidden input to support the existing bundle flow -->
  <input type="hidden" id="amt" value="5">

  <!-- expose server-generated values -->
  <script>
    window.LINK_TOKEN = "{{ link_token | e }}";
    window.MESH_CLIENT_ID = "{{ mesh_client_id | e }}";
    window.COINBASE_ADDRESS = "{{ coinbase_wallet_address }}";
    window.FIXED_AMOUNT = 5;
  </script>

  <!-- single locally-hosted bundle: includes the SDK -->
  <script src="{{ url_for('static', path='mesh_iframe_app.bundle.js') }}"></script>
</body>
</html>
